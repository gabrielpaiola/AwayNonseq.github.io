// Do not edit this file; automatically generated by gulp.
/*

 Copyright 2012 Google LLC
 Modified 2020 Philip Taylor

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
'use strict';


Blockly.AutoHotkey=new Blockly.Generator("AutoHotkey");Blockly.AutoHotkey.INDENT="\t";Blockly.AutoHotkey.addReservedWords("ErrorLevel,True,False,Clipboard,ClipboardAll,A_Space,A_Tab,A_ArgsA_WorkingDir,A_ScriptDir,A_ScriptName,A_ScriptFullPath,A_ScriptHwndA_LineNumber,A_LineFile,A_ThisFunc,A_ThisLabel,A_AhkVersion,A_AhkPathA_IsUnicode,A_IsCompiled,A_ExitReason,A_YYYY,A_MM,A_DD,A_MMMM,A_MMMA_DDDD,A_DDD,A_WDay,A_YDay,A_YWeek,A_Hour,A_Min,A_Sec,A_MSec,A_NowA_NowUTC,A_TickCount,A_IsSuspended,A_IsPaused,A_IsCritical,A_BatchLinesA_ListLines,A_TitleMatchMode,A_TitleMatchModeSpeed,A_DetectHiddenWindowsA_DetectHiddenText,A_AutoTrim,A_StringCaseSense,A_FileEncodingA_FormatInteger,A_FormatFloat,A_SendMode,A_SendLevel,A_StoreCapsLockModeStoreCapslockMode,A_KeyDelay,A_KeyDuration,A_KeyDelayPlayA_KeyDurationPlay,A_WinDelay,A_ControlDelay,A_MouseDelayA_MouseDelayPlay,A_DefaultMouseSpeed,A_CoordModeToolTip,A_CoordModePixelA_CoordModeMouse,A_CoordModeCaret,A_CoordModeMenu,A_RegView,A_IconHiddenA_IconTip,A_IconFile,A_IconNumber,A_TimeIdle,A_TimeIdlePhysicalA_TimeIdleKeyboard,A_TimeIdleMouse,A_DefaultGui,A_DefaultListViewA_DefaultTreeView,A_Gui,A_GuiControl,A_GuiWidth,A_GuiHeight,A_EventInfoA_ThisMenuItem,A_ThisMenu,A_ThisMenuItemPos,A_ThisHotkey,A_PriorHotkeyA_PriorKey,A_TimeSinceThisHotkey,A_TimeSincePriorHotkey,A_EndCharComSpec,A_ComSpec,A_Temp,A_OSType,A_OSVersion,A_Is64bitOS,A_PtrSizeA_Language,A_ComputerName,A_UserName,A_WinDir,A_ProgramFilesProgramFiles,A_AppData,A_AppDataCommon,A_Desktop,A_DesktopCommonA_StartMenu,A_StartMenuCommon,A_Programs,A_ProgramsCommon,A_StartupA_StartupCommon,A_MyDocuments,A_IsAdmin,A_ScreenWidth,A_ScreenHeightScreen,A_ScreenDPI,A_IPAddress1,A_IPAddress2,A_IPAddress3,A_IPAddress4A_Cursor,A_CaretX,A_CaretY,A_LastError,A_Index,A_GuiControlEventA_GuiEvent,A_GuiX,A_GuiY,A_LoopField,A_LoopFileAttrib,A_LoopFileDirA_LoopFileExt,A_LoopFileFullPath,A_LoopFileLongPath,A_LoopFileNameA_LoopFilePath,A_LoopFileShortName,A_LoopFileShortPath,A_LoopFileSizeA_LoopFileSizeKB,A_LoopFileSizeMB,A_LoopFileTimeAccessedA_LoopFileTimeCreated,A_LoopFileTimeModified,A_LoopReadLine,A_LoopRegKeyA_LoopRegName,A_LoopRegSubKey,A_LoopRegTimeModified,A_LoopRegType,A_MDayA_Mon,A_NumBatchLines,A_Year,each");
Blockly.AutoHotkey.ORDER_ATOMIC=0;Blockly.AutoHotkey.ORDER_NEW=1.1;Blockly.AutoHotkey.ORDER_MEMBER=1.2;Blockly.AutoHotkey.ORDER_FUNCTION_CALL=2;Blockly.AutoHotkey.ORDER_INCREMENT=3;Blockly.AutoHotkey.ORDER_DECREMENT=3;Blockly.AutoHotkey.ORDER_BITWISE_NOT=4.1;Blockly.AutoHotkey.ORDER_UNARY_PLUS=4.2;Blockly.AutoHotkey.ORDER_UNARY_NEGATION=4.3;Blockly.AutoHotkey.ORDER_LOGICAL_NOT=4.4;Blockly.AutoHotkey.ORDER_TYPEOF=4.5;Blockly.AutoHotkey.ORDER_VOID=4.6;Blockly.AutoHotkey.ORDER_DELETE=4.7;
Blockly.AutoHotkey.ORDER_AWAIT=4.8;Blockly.AutoHotkey.ORDER_EXPONENTIATION=5;Blockly.AutoHotkey.ORDER_MULTIPLICATION=5.1;Blockly.AutoHotkey.ORDER_DIVISION=5.2;Blockly.AutoHotkey.ORDER_MODULUS=5.3;Blockly.AutoHotkey.ORDER_SUBTRACTION=6.1;Blockly.AutoHotkey.ORDER_ADDITION=6.2;Blockly.AutoHotkey.ORDER_BITWISE_SHIFT=7;Blockly.AutoHotkey.ORDER_RELATIONAL=8;Blockly.AutoHotkey.ORDER_IN=8;Blockly.AutoHotkey.ORDER_INSTANCEOF=8;Blockly.AutoHotkey.ORDER_CONCATENATION=8.5;Blockly.AutoHotkey.ORDER_EQUALITY=9;
Blockly.AutoHotkey.ORDER_BITWISE_AND=10;Blockly.AutoHotkey.ORDER_BITWISE_XOR=11;Blockly.AutoHotkey.ORDER_BITWISE_OR=12;Blockly.AutoHotkey.ORDER_LOGICAL_AND=13;Blockly.AutoHotkey.ORDER_LOGICAL_OR=14;Blockly.AutoHotkey.ORDER_CONDITIONAL=15;Blockly.AutoHotkey.ORDER_ASSIGNMENT=16;Blockly.AutoHotkey.ORDER_YIELD=17;Blockly.AutoHotkey.ORDER_COMMA=18;Blockly.AutoHotkey.ORDER_NONE=99;
Blockly.AutoHotkey.ORDER_OVERRIDES=[[Blockly.AutoHotkey.ORDER_FUNCTION_CALL,Blockly.AutoHotkey.ORDER_MEMBER],[Blockly.AutoHotkey.ORDER_FUNCTION_CALL,Blockly.AutoHotkey.ORDER_FUNCTION_CALL],[Blockly.AutoHotkey.ORDER_MEMBER,Blockly.AutoHotkey.ORDER_MEMBER],[Blockly.AutoHotkey.ORDER_MEMBER,Blockly.AutoHotkey.ORDER_FUNCTION_CALL],[Blockly.AutoHotkey.ORDER_LOGICAL_NOT,Blockly.AutoHotkey.ORDER_LOGICAL_NOT],[Blockly.AutoHotkey.ORDER_MULTIPLICATION,Blockly.AutoHotkey.ORDER_MULTIPLICATION],[Blockly.AutoHotkey.ORDER_ADDITION,
Blockly.AutoHotkey.ORDER_ADDITION],[Blockly.AutoHotkey.ORDER_LOGICAL_AND,Blockly.AutoHotkey.ORDER_LOGICAL_AND],[Blockly.AutoHotkey.ORDER_LOGICAL_OR,Blockly.AutoHotkey.ORDER_LOGICAL_OR]];
Blockly.AutoHotkey.init=function(a){Blockly.AutoHotkey.definitions_=Object.create(null);Blockly.AutoHotkey.functionNames_=Object.create(null);Blockly.AutoHotkey.variableDB_?Blockly.AutoHotkey.variableDB_.reset():Blockly.AutoHotkey.variableDB_=new Blockly.Names(Blockly.AutoHotkey.RESERVED_WORDS_);Blockly.AutoHotkey.variableDB_.setVariableMap(a.getVariableMap());for(var c=[],b=Blockly.Variables.allDeveloperVariables(a),d=0;d<b.length;d++)c.push(Blockly.AutoHotkey.variableDB_.getName(b[d],Blockly.Names.DEVELOPER_VARIABLE_TYPE));
a=Blockly.Variables.allUsedVarModels(a);for(d=0;d<a.length;d++)c.push(Blockly.AutoHotkey.variableDB_.getName(a[d].getId(),Blockly.VARIABLE_CATEGORY_NAME))};
Blockly.AutoHotkey.finish=function(a){var c=[],b=[],d;for(d in Blockly.AutoHotkey.definitions_)":"==d[0]?b.push(Blockly.AutoHotkey.definitions_[d]):c.push(Blockly.AutoHotkey.definitions_[d]);delete Blockly.AutoHotkey.definitions_;delete Blockly.AutoHotkey.functionNames_;Blockly.AutoHotkey.variableDB_.reset();return a+"return\n"+(b.length?"\n\n; --- Hotkeys ---\n\n"+b.join("\n\n")+"\n":"")+(c.length?"\n\n; --- Functions ---\n\n"+c.join("\n\n")+"\n":"")};
Blockly.AutoHotkey.scrubNakedValue=function(a){return"; "+a+"\n"};Blockly.AutoHotkey.quote_=function(a){a=a.replace(/`/g,"``").replace(/%/g,"`%").replace(/"/g,'""');return'"'+a+'"'};Blockly.AutoHotkey.multiline_quote_=function(a){return"There's something wrong here! Please contact the site owner.\n"};
Blockly.AutoHotkey.scrub_=function(a,c,b){var d="";if(!a.outputConnection||!a.outputConnection.targetConnection){var e=a.getCommentText();e&&(e=Blockly.utils.string.wrap(e,Blockly.AutoHotkey.COMMENT_WRAP-3),d+=Blockly.AutoHotkey.prefixLines(e+"\n","; "));for(var f=0;f<a.inputList.length;f++)a.inputList[f].type==Blockly.INPUT_VALUE&&(e=a.inputList[f].connection.targetBlock())&&(e=Blockly.AutoHotkey.allNestedComments(e))&&(d+=Blockly.AutoHotkey.prefixLines(e,"; "))}a=a.nextConnection&&a.nextConnection.targetBlock();
b=b?"":Blockly.AutoHotkey.blockToCode(a);return d+c+b};
Blockly.AutoHotkey.getAdjusted=function(a,c,b,d,e){b=b||0;e=e||Blockly.AutoHotkey.ORDER_NONE;a.workspace.options.oneBasedIndex||b++;var f=a.workspace.options.oneBasedIndex?"1":"0";a=0<b?Blockly.AutoHotkey.valueToCode(a,c,Blockly.AutoHotkey.ORDER_ADDITION)||f:0>b?Blockly.AutoHotkey.valueToCode(a,c,Blockly.AutoHotkey.ORDER_SUBTRACTION)||f:d?Blockly.AutoHotkey.valueToCode(a,c,Blockly.AutoHotkey.ORDER_UNARY_NEGATION)||f:Blockly.AutoHotkey.valueToCode(a,c,e)||f;if(Blockly.isNumber(a))a=Number(a)+b,d&&
(a=-a);else{if(0<b){a=a+" + "+b;var g=Blockly.AutoHotkey.ORDER_ADDITION}else 0>b&&(a=a+" - "+-b,g=Blockly.AutoHotkey.ORDER_SUBTRACTION);d&&(a=b?"-("+a+")":"-"+a,g=Blockly.AutoHotkey.ORDER_UNARY_NEGATION);g=Math.floor(g);e=Math.floor(e);g&&e>=g&&(a="("+a+")")}return a};
Blockly.AutoHotkey.getSort=function(){return Blockly.AutoHotkey.provideFunction_("Sort",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+'(a, lo:="", hi:="")',"{",'\tif (lo == "" || hi == "")',"\t\treturn a, Sort(a := ObjClone(a), a.MinIndex(), a.MaxIndex())","\tif (lo >= hi)","\t\treturn","\tRandom, r, lo, hi","\tp := a[r], a[r] := a[hi], a[hi] := p, i := j := lo","\twhile (j < hi)","\t\t(a[j] < p ? (t := a[j], a[j] := a[i], a[i] := t, ++i) : 0), ++j","\tt := a[hi], a[hi] := a[i], a[i] := t","\tSort(a, lo, i - 1), Sort(a, i + 1, hi)",
"}"])};Blockly.AutoHotkey.colour={};Blockly.AutoHotkey.colour_picker=function(a){return[a.getFieldValue("COLOUR").replace("#","0x"),Blockly.AutoHotkey.ORDER_ATOMIC]};Blockly.AutoHotkey.colour_random=function(a){return[Blockly.AutoHotkey.provideFunction_("RandomColor",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"()","{","\tRandom, rand, 0x000000, 0xFFFFFF","\treturn rand","}"])+"()",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.colour_rgb=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"RED",Blockly.AutoHotkey.ORDER_COMMA)||0,b=Blockly.AutoHotkey.valueToCode(a,"GREEN",Blockly.AutoHotkey.ORDER_COMMA)||0;a=Blockly.AutoHotkey.valueToCode(a,"BLUE",Blockly.AutoHotkey.ORDER_COMMA)||0;return[Blockly.AutoHotkey.provideFunction_("ColorFromRGB",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b)","{",'  return Format("0x{:02x}{:02x}{:02x}"',"    , Max(Min(r*2.55, 255), 0)","    , Max(Min(g*2.55, 255), 0)",
"    , Max(Min(b*2.55, 255), 0))","}"])+"("+c+", "+b+", "+a+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.colour_blend=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"COLOUR1",Blockly.AutoHotkey.ORDER_COMMA)||"000000",b=Blockly.AutoHotkey.valueToCode(a,"COLOUR2",Blockly.AutoHotkey.ORDER_COMMA)||"000000";a=Blockly.AutoHotkey.valueToCode(a,"RATIO",Blockly.AutoHotkey.ORDER_COMMA)||.5;return[Blockly.AutoHotkey.provideFunction_("BlendColors",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio)","{","\tratio := Max(Min(ratio, 1), 0)","\tr1 := (c1>>16) & 0xFF, g1 := (c1>>8)&0xFF, b1 := c1&0xFF",
"\tr2 := (c2>>16) & 0xFF, g2 := (c2>>8)&0xFF, b2 := c2&0xFF","\tr := Round(r1 * (1 - ratio) + r2 * ratio)","\tg := Round(g1 * (1 - ratio) + g2 * ratio)","\tb := Round(b1 * (1 - ratio) + b2 * ratio)","\treturn (r&0xFF)<<16 | (g&0xFF)<<8 | (b&0xFF)","}"])+"("+c+", "+b+", "+a+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};Blockly.AutoHotkey.lists={};Blockly.AutoHotkey.lists_create_empty=function(a){return["[]",Blockly.AutoHotkey.ORDER_ATOMIC]};Blockly.AutoHotkey.lists_create_with=function(a){for(var c=Array(a.itemCount_),b=0;b<a.itemCount_;b++)c[b]=Blockly.AutoHotkey.valueToCode(a,"ADD"+b,Blockly.AutoHotkey.ORDER_COMMA)||'""';return["["+c.join(", ")+"]",Blockly.AutoHotkey.ORDER_ATOMIC]};
Blockly.AutoHotkey.lists_repeat=function(a){var c=Blockly.AutoHotkey.provideFunction_("ArrayRepeat",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(value, n)","{","\tarray := []","\tloop, % n","\t\tarray.Push(value)","\treturn array","}"]),b=Blockly.AutoHotkey.valueToCode(a,"ITEM",Blockly.AutoHotkey.ORDER_COMMA)||'""';a=Blockly.AutoHotkey.valueToCode(a,"NUM",Blockly.AutoHotkey.ORDER_COMMA)||"0";return[c+"("+b+", "+a+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.lists_length=function(a){return[(Blockly.AutoHotkey.valueToCode(a,"VALUE",Blockly.AutoHotkey.ORDER_MEMBER)||"[]")+".Length()",Blockly.AutoHotkey.ORDER_MEMBER]};Blockly.AutoHotkey.lists_isEmpty=function(a){return["!"+(Blockly.AutoHotkey.valueToCode(a,"VALUE",Blockly.AutoHotkey.ORDER_MEMBER)||"[]")+".Length()",Blockly.AutoHotkey.ORDER_LOGICAL_NOT]};
Blockly.AutoHotkey.lists_indexOf=function(a){var c=Blockly.AutoHotkey.provideFunction_("IndexOf",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(array, value, first:=True)","{","\tfor k, v in array","\t{","\t\tif (v == value)","\t\t{","\t\t\tif first","\t\t\t\treturn k","\t\t\tfound := k","\t\t}","\t}","\treturn found","}"]),b="FIRST"==a.getFieldValue("END")?"":", False",d=Blockly.AutoHotkey.valueToCode(a,"FIND",Blockly.AutoHotkey.ORDER_NONE)||'""',e=Blockly.AutoHotkey.valueToCode(a,"VALUE",Blockly.AutoHotkey.ORDER_MEMBER)||
"[]";c=c+"("+e+", "+d+b+")";return a.workspace.options.oneBasedIndex?[c,Blockly.AutoHotkey.ORDER_FUNCTION_CALL]:[c+" - 1",Blockly.AutoHotkey.ORDER_ADDITION]};
Blockly.AutoHotkey.lists_getIndex=function(a){var c=a.getFieldValue("MODE")||"GET",b=a.getFieldValue("WHERE")||"FROM_START",d=Blockly.AutoHotkey.valueToCode(a,"VALUE","RANDOM"==b?Blockly.AutoHotkey.ORDER_COMMA:Blockly.AutoHotkey.ORDER_MEMBER)||"[]";switch(b){case "FIRST":if("GET"==c)return[d+"[1]",Blockly.AutoHotkey.ORDER_MEMBER];if("GET_REMOVE"==c)return[d+".RemoveAt(1)",Blockly.AutoHotkey.ORDER_MEMBER];if("REMOVE"==c)return d+".RemoteAt(1)\n";break;case "LAST":if("GET"==c)return a=Blockly.AutoHotkey.provideFunction_("Peek",
[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(array)","{","\treturn array[array.length()]","}"]),[a+"("+d+")",Blockly.AutoHotkey.ORDER_MEMBER];if("GET_REMOVE"==c)return[d+".Pop()",Blockly.AutoHotkey.ORDER_MEMBER];if("REMOVE"==c)return d+".Pop()\n";break;case "FROM_START":b=Blockly.AutoHotkey.getAdjusted(a,"AT");if("GET"==c)return[d+"["+b+"]",Blockly.AutoHotkey.ORDER_MEMBER];if("GET_REMOVE"==c)return[d+".RemoveAt("+b+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL];if("REMOVE"==c)return d+".RemoveAt("+
b+")\n";break;case "FROM_END":b=Blockly.AutoHotkey.getAdjusted(a,"AT",1,!0);if("GET"==c)return a=Blockly.AutoHotkey.provideFunction_("FromEnd",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(array, n)","{","\treturn array[array.length()-n]","}"]),[a+"("+d+", "+b+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL];if("GET_REMOVE"==c)return a=Blockly.AutoHotkey.provideFunction_("RemoveFromEnd",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(array, n)","{","\treturn array.RemoveAt(array.Length() - n)","}"]),
[a+"("+d+", "+b+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL];if("REMOVE"==c)return a=Blockly.AutoHotkey.provideFunction_("RemoveFromEnd",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(array, n)","{","\treturn array.RemoveAt(array.Length() - n)","}"]),a+"("+d+", "+b+")\n";break;case "RANDOM":a=Blockly.AutoHotkey.provideFunction_("RandomItem",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(array, remove:=False)","{","\tRandom, i, array.MinIndex(), array.MaxIndex()","\treturn remove ? array.RemoveAt(i) : array[i]",
"}"]);d=a+"("+d+", "+("GET"!=c)+")";if("GET"==c||"GET_REMOVE"==c)return[d,Blockly.AutoHotkey.ORDER_FUNCTION_CALL];if("REMOVE"==c)return d+"\n"}throw Error("Unhandled combination (lists_getIndex).");};
Blockly.AutoHotkey.lists_setIndex=function(a){function c(){if(b.match(/^\w+$/))return"";var a=Blockly.AutoHotkey.variableDB_.getDistinctName("tmpList",Blockly.VARIABLE_CATEGORY_NAME),c=a+" := "+b+"\n";b=a;return c}var b=Blockly.AutoHotkey.valueToCode(a,"LIST",Blockly.AutoHotkey.ORDER_MEMBER)||"[]",d=a.getFieldValue("MODE")||"GET",e=a.getFieldValue("WHERE")||"FROM_START",f=Blockly.AutoHotkey.valueToCode(a,"TO",Blockly.AutoHotkey.ORDER_ASSIGNMENT)||'""';switch(e){case "FIRST":if("SET"==d)return b+"[1] := "+
f+"\n";if("INSERT"==d)return b+".InsertAt(1, "+f+")\n";break;case "LAST":if("SET"==d)return a=c(),a+(b+"["+b+".Length()] := "+f+"\n");if("INSERT"==d)return b+".Push("+f+")\n";break;case "FROM_START":e=Blockly.AutoHotkey.getAdjusted(a,"AT");if("SET"==d)return b+"["+e+"] := "+f+"\n";if("INSERT"==d)return b+".InsertAt("+e+", "+f+")\n";break;case "FROM_END":e=Blockly.AutoHotkey.getAdjusted(a,"AT",1,!1,Blockly.AutoHotkey.ORDER_SUBTRACTION);a=c();if("SET"==d)return a+(b+"["+b+".Length() - "+e+"] := "+f+
"\n");if("INSERT"==d)return a+(b+".InsertAt("+b+".Length() - "+e+", "+f+")\n");break;case "RANDOM":a=c();e=Blockly.AutoHotkey.variableDB_.getDistinctName("Rand",Blockly.VARIABLE_CATEGORY_NAME);a+="Random, "+e+", "+b+".MinIndex(), "+b+".MaxIndex()\n";if("SET"==d)return a+(b+"["+e+"] := "+f+"\n");if("INSERT"==d)return a+(b+".InsertAt("+e+", "+f+")\n")}throw Error("Unhandled combination (lists_setIndex).");};
Blockly.AutoHotkey.lists.getIndex_=function(a,c,b){return"FIRST"==c?"1":"FROM_END"==c?a+".Length() - "+b:"LAST"==c?a+".Length()":b};
Blockly.AutoHotkey.lists_getSublist=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"LIST",Blockly.AutoHotkey.ORDER_MEMBER)||"[]",b=a.getFieldValue("WHERE1"),d=a.getFieldValue("WHERE2");if("FIRST"==b&&"LAST"==d)return[c+".Clone()",Blockly.AutoHotkey.ORDER_FUNCTION_CALL];Blockly.AutoHotkey.provideFunction_("Slice",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(array, start, end)","{","\tresult := []","\tloop, % end - start + 1","\t\tresult[A_Index] := array[start + A_Index - 1]","\treturn result",
"}"]);if(c.match(/^\w+$/)||"FROM_END"!=b&&"FROM_START"==d){switch(b){case "FROM_START":var e=Blockly.AutoHotkey.getAdjusted(a,"AT1");break;case "FROM_END":e=Blockly.AutoHotkey.getAdjusted(a,"AT1",0,!1,Blockly.AutoHotkey.ORDER_SUBTRACTION);e=c+".Length() - "+e;break;case "FIRST":e="0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(d){case "FROM_START":a=Blockly.AutoHotkey.getAdjusted(a,"AT2",0);break;case "FROM_END":a=Blockly.AutoHotkey.getAdjusted(a,"AT2",0,!1,Blockly.AutoHotkey.ORDER_SUBTRACTION);
a=c+".Length() - "+a;break;case "LAST":a=c+".Length()";break;default:throw Error("Unhandled option (lists_getSublist).");}c="Slice("+c+", "+e+", "+a+")"}else{e=Blockly.AutoHotkey.getAdjusted(a,"AT1");a=Blockly.AutoHotkey.getAdjusted(a,"AT2");var f=Blockly.AutoHotkey.lists.getIndex_;var g={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};f=Blockly.AutoHotkey.provideFunction_("SubArray"+g[b]+"To"+g[d],[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(array"+("FROM_END"==b||"FROM_START"==
b?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+")","{","  start := "+f("array",b,"at1"),"  end := "+f("array",d,"at2")+" + 1","  return Slice(array, start, end)","}"]);c=f+"("+c+("FROM_END"==b||"FROM_START"==b?", "+e:"")+("FROM_END"==d||"FROM_START"==d?", "+a:"")+")"}return[c,Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.lists_sort=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"LIST",Blockly.AutoHotkey.ORDER_FUNCTION_CALL)||"[]";a="-1"===a.getFieldValue("DIRECTION");return[Blockly.AutoHotkey.getSort()+"("+c+(a?", True":"")+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.lists_split=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"INPUT",Blockly.AutoHotkey.ORDER_MEMBER),b=Blockly.AutoHotkey.valueToCode(a,"DELIM",Blockly.AutoHotkey.ORDER_NONE)||'""';a=a.getFieldValue("MODE");if("SPLIT"==a)c="StrSplit("+(c||'""')+", "+b+")";else if("JOIN"==a)c=Blockly.AutoHotkey.provideFunction_("Join",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+'(array, delimiter:="")',"{","\tfor k, v in array","\t\tresult .= delimiter . v","\treturn SubStr(result, 1 + StrLen(delimiter))",
"}"])+"("+(c||"[]")+", "+b+")";else throw Error("Unknown mode: "+a);return[c,Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};Blockly.AutoHotkey.lists_reverse=function(a){a=Blockly.AutoHotkey.valueToCode(a,"LIST",Blockly.AutoHotkey.ORDER_FUNCTION_CALL)||"[]";return[Blockly.AutoHotkey.provideFunction_("Reverse",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(array)","{","\tresult := []","\tfor k, v in array","\t\tresult.InsertAt(1, v)","\treturn result","}"])+"("+a+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};Blockly.AutoHotkey.logic={};
Blockly.AutoHotkey.controls_if=function(a){var c=0,b="";Blockly.AutoHotkey.STATEMENT_PREFIX&&(b+=Blockly.AutoHotkey.injectId(Blockly.AutoHotkey.STATEMENT_PREFIX,a));do{var d=Blockly.AutoHotkey.valueToCode(a,"IF"+c,Blockly.AutoHotkey.ORDER_NONE)||"False";var e=Blockly.AutoHotkey.statementToCode(a,"DO"+c);Blockly.AutoHotkey.STATEMENT_SUFFIX&&(e=Blockly.AutoHotkey.prefixLines(Blockly.AutoHotkey.injectId(Blockly.AutoHotkey.STATEMENT_SUFFIX,a),Blockly.AutoHotkey.INDENT)+e);b+=(0<c?"\nelse ":"")+"if ("+
d+")\n{\n"+e+"}";++c}while(a.getInput("IF"+c));if(a.getInput("ELSE")||Blockly.AutoHotkey.STATEMENT_SUFFIX)e=Blockly.AutoHotkey.statementToCode(a,"ELSE"),Blockly.AutoHotkey.STATEMENT_SUFFIX&&(e=Blockly.AutoHotkey.prefixLines(Blockly.AutoHotkey.injectId(Blockly.AutoHotkey.STATEMENT_SUFFIX,a),Blockly.AutoHotkey.INDENT)+e),b+="\nelse\n{\n"+e+"}";return b+"\n"};Blockly.AutoHotkey.controls_ifelse=Blockly.AutoHotkey.controls_if;
Blockly.AutoHotkey.logic_compare=function(a){var c={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[a.getFieldValue("OP")],b="=="==c||"!="==c?Blockly.AutoHotkey.ORDER_EQUALITY:Blockly.AutoHotkey.ORDER_RELATIONAL,d=Blockly.AutoHotkey.valueToCode(a,"A",b)||"0";a=Blockly.AutoHotkey.valueToCode(a,"B",b)||"0";return[d+" "+c+" "+a,b]};
Blockly.AutoHotkey.logic_operation=function(a){var c="AND"==a.getFieldValue("OP")?"&&":"||",b="&&"==c?Blockly.AutoHotkey.ORDER_LOGICAL_AND:Blockly.AutoHotkey.ORDER_LOGICAL_OR,d=Blockly.AutoHotkey.valueToCode(a,"A",b);a=Blockly.AutoHotkey.valueToCode(a,"B",b);if(d||a){var e="&&"==c?"True":"False";d||(d=e);a||(a=e)}else a=d="False";return[d+" "+c+" "+a,b]};
Blockly.AutoHotkey.logic_negate=function(a){var c=Blockly.AutoHotkey.ORDER_LOGICAL_NOT;return["!"+(Blockly.AutoHotkey.valueToCode(a,"BOOL",c)||"True"),c]};Blockly.AutoHotkey.logic_boolean=function(a){return["TRUE"==a.getFieldValue("BOOL")?"True":"False",Blockly.AutoHotkey.ORDER_ATOMIC]};Blockly.AutoHotkey.logic_null=function(a){return["null",Blockly.AutoHotkey.ORDER_ATOMIC]};
Blockly.AutoHotkey.logic_ternary=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"IF",Blockly.AutoHotkey.ORDER_CONDITIONAL)||"False",b=Blockly.AutoHotkey.valueToCode(a,"THEN",Blockly.AutoHotkey.ORDER_CONDITIONAL)||'""';a=Blockly.AutoHotkey.valueToCode(a,"ELSE",Blockly.AutoHotkey.ORDER_CONDITIONAL)||'""';return[c+" ? "+b+" : "+a,Blockly.AutoHotkey.ORDER_CONDITIONAL]};/*

 Visual Blocks Language
 Modified 2020 Philip Taylor

 Copyright 2012 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.AutoHotkey.loops={};Blockly.AutoHotkey.controls_repeat_ext=function(a){var c=a.getField("TIMES")?String(Number(a.getFieldValue("TIMES"))):Blockly.AutoHotkey.valueToCode(a,"TIMES",Blockly.AutoHotkey.ORDER_ASSIGNMENT)||"0",b=Blockly.AutoHotkey.statementToCode(a,"DO");b=Blockly.AutoHotkey.addLoopTrap(b,a);return"loop, % "+c+"\n{\n"+b+"}\n"};Blockly.AutoHotkey.controls_repeat=Blockly.AutoHotkey.controls_repeat_ext;
Blockly.AutoHotkey.controls_whileUntil=function(a){var c="UNTIL"==a.getFieldValue("MODE"),b=Blockly.AutoHotkey.valueToCode(a,"BOOL",c?Blockly.AutoHotkey.ORDER_LOGICAL_NOT:Blockly.AutoHotkey.ORDER_NONE)||"False",d=Blockly.AutoHotkey.statementToCode(a,"DO");d=Blockly.AutoHotkey.addLoopTrap(d,a);c&&(b="!"+b);return"while ("+b+")\n{\n"+d+"}\n"};Blockly.AutoHotkey.controls_for=function(a){return"; The count with from to by loop is not implemented\n"};
Blockly.AutoHotkey.controls_forEach=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"VAR",Blockly.AutoHotkey.ORDER_ATOMIC),b=Blockly.AutoHotkey.valueToCode(a,"LIST",Blockly.AutoHotkey.ORDER_ASSIGNMENT)||"[]",d=Blockly.AutoHotkey.statementToCode(a,"DO");d=Blockly.AutoHotkey.addLoopTrap(d,a);return"for each, "+c+" in "+b+"\n{\n"+d+"}\n"};
Blockly.AutoHotkey.controls_flow_statements=function(a){var c="";Blockly.AutoHotkey.STATEMENT_PREFIX&&(c+=Blockly.AutoHotkey.injectId(Blockly.AutoHotkey.STATEMENT_PREFIX,a));Blockly.AutoHotkey.STATEMENT_SUFFIX&&(c+=Blockly.AutoHotkey.injectId(Blockly.AutoHotkey.STATEMENT_SUFFIX,a));if(Blockly.AutoHotkey.STATEMENT_PREFIX){var b=Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(a);b&&!b.suppressPrefixSuffix&&(c+=Blockly.AutoHotkey.injectId(Blockly.AutoHotkey.STATEMENT_PREFIX,
b))}switch(a.getFieldValue("FLOW")){case "BREAK":return c+"break\n";case "CONTINUE":return c+"continue\n"}throw Error("Unknown flow statement.");};Blockly.AutoHotkey.math={};Blockly.AutoHotkey.math_number=function(a){a=parseFloat(a.getFieldValue("NUM"));return[a,0<=a?Blockly.AutoHotkey.ORDER_ATOMIC:Blockly.AutoHotkey.ORDER_UNARY_NEGATION]};
Blockly.AutoHotkey.math_arithmetic=function(a){var c={ADD:[" + ",Blockly.AutoHotkey.ORDER_ADDITION],MINUS:[" - ",Blockly.AutoHotkey.ORDER_SUBTRACTION],MULTIPLY:[" * ",Blockly.AutoHotkey.ORDER_MULTIPLICATION],DIVIDE:[" / ",Blockly.AutoHotkey.ORDER_DIVISION],POWER:[" ** ",Blockly.AutoHotkey.ORDER_EXPONENTIATION]}[a.getFieldValue("OP")],b=c[0];c=c[1];var d=Blockly.AutoHotkey.valueToCode(a,"A",c)||"0";a=Blockly.AutoHotkey.valueToCode(a,"B",c)||"0";return[d+b+a,c]};
Blockly.AutoHotkey.math_single=function(a){var c=a.getFieldValue("OP");if("NEG"==c)return a=Blockly.AutoHotkey.valueToCode(a,"NUM",Blockly.AutoHotkey.ORDER_UNARY_NEGATION)||"0","-"==a[0]&&(a=" "+a),["-"+a,Blockly.AutoHotkey.ORDER_UNARY_NEGATION];a="SIN"==c||"COS"==c||"TAN"==c?Blockly.AutoHotkey.valueToCode(a,"NUM",Blockly.AutoHotkey.ORDER_DIVISION)||"0":"POW10"==c?Blockly.AutoHotkey.valueToCode(a,"NUM",Blockly.AutoHotkey.ORDER_EXPONENTIATION)||"0":Blockly.AutoHotkey.valueToCode(a,"NUM",Blockly.AutoHotkey.ORDER_NONE)||
"0";switch(c){case "ABS":var b="Abs("+a+")";break;case "ROOT":b="Sqrt("+a+")";break;case "LN":b="Ln("+a+")";break;case "EXP":b="Exp("+a+")";break;case "ROUND":b="Round("+a+")";break;case "ROUNDUP":b="Ceil("+a+")";break;case "ROUNDDOWN":b="Floor("+a+")";break;case "SIN":b="Sin("+a+" / 180 * "+Math.PI+")";break;case "COS":b="Cos("+a+" / 180 * "+Math.PI+")";break;case "TAN":b="Tan("+a+" / 180 * "+Math.PI+")";break;case "LOG10":b="Log("+a+")"}if(b)return[b,Blockly.AutoHotkey.ORDER_FUNCTION_CALL];switch(c){case "ASIN":b=
"ASin("+a+") / "+Math.PI+" * 180";break;case "ACOS":b="ACos("+a+") / "+Math.PI+" * 180";break;case "ATAN":b="ATan("+a+") / "+Math.PI+" * 180"}if(b)return[b,Blockly.AutoHotkey.ORDER_DIVISION];switch(c){case "POW10":return[a+" ** 10",Blockly.AutoHotkey.ORDER_EXPONENTIATION]}throw Error("Unknown math operator: "+c);};
Blockly.AutoHotkey.math_constant=function(a){return{PI:[Math.PI,Blockly.AutoHotkey.ORDER_ATOMIC],E:[Math.E,Blockly.AutoHotkey.ORDER_ATOMIC],GOLDEN_RATIO:["(1 + Sqrt(5)) / 2",Blockly.AutoHotkey.ORDER_DIVISION],SQRT2:["Sqrt(2)",Blockly.AutoHotkey.ORDER_FUNCTION_CALL],SQRT1_2:["Sqrt(1 / 2)",Blockly.AutoHotkey.ORDER_FUNCTION_CALL],INFINITY:["2**63-1",Blockly.AutoHotkey.ORDER_SUBTRACTION]}[a.getFieldValue("CONSTANT")]};
Blockly.AutoHotkey.math_number_property=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"NUMBER_TO_CHECK",Blockly.AutoHotkey.ORDER_RELATIONAL)||"0",b=a.getFieldValue("PROPERTY");if("PRIME"==b)return[Blockly.AutoHotkey.provideFunction_("IsPrime",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(n)","{","\t; https://en.wikipedia.org/wiki/Primality_test#Naive_methods","\tif (n == 2 || n == 3)","\t\treturn True","\t; False if n is NaN, negative, is 1, or not whole.","\t; And false if n is divisible by 2 or 3.",
"\tif (n <= 1 || Mod(n, 1) != 0 || Mod(n, 2) == 0 || Mod(n, 3) == 0)","\t\treturn False","\t; Check all the numbers of form 6k +/- 1, up to Sqrt(n).","\tx := 6, z := Sqrt(n) + 1","\twhile (x <= z)","\t{","\t\tif (Mod(n, x - 1) == 0 || Mod(n, x + 1) == 0)","\t\t\treturn False","\t\tx += 6","\t}","\treturn True","}"])+"("+c+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL];switch(b){case "EVEN":var d="Mod("+c+", 2) == 0";break;case "ODD":d="Mod("+c+", 2) == 1";break;case "WHOLE":d="Mod("+c+", 1) == 0";break;
case "POSITIVE":d=c+" > 0";break;case "NEGATIVE":d=c+" < 0";break;case "DIVISIBLE_BY":a=Blockly.AutoHotkey.valueToCode(a,"DIVISOR",Blockly.AutoHotkey.ORDER_COMMA)||"0",d="Mod("+c+", "+a+") == 0"}return[d,Blockly.AutoHotkey.ORDER_RELATIONAL]};Blockly.AutoHotkey.math_change=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"DELTA",Blockly.AutoHotkey.ORDER_ASSIGNMENT)||"0";return Blockly.AutoHotkey.variableDB_.getName(a.getField("VAR").getText(),Blockly.Variables.NAME_TYPE)+" += "+c+"\n"};
Blockly.AutoHotkey.math_round=Blockly.AutoHotkey.math_single;Blockly.AutoHotkey.math_trig=Blockly.AutoHotkey.math_single;
Blockly.AutoHotkey.math_on_list=function(a){var c=a.getFieldValue("OP");if("MEAN"===c||"STD_DEV"===c)var b=Blockly.AutoHotkey.provideFunction_("Mean",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(values*)","{","\tsum := 0, i := 0","\tfor k, v in values","\t\tif v is Number","\t\t\ti++, sum += v","\treturn sum / i","}"]);switch(c){case "SUM":b=Blockly.AutoHotkey.provideFunction_("Sum",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(values*)","{","\tsum := 0","\tfor k, v in values","\t\tsum += v",
"\treturn sum","}"]);a=Blockly.AutoHotkey.valueToCode(a,"LIST",Blockly.AutoHotkey.ORDER_MEMBER)||"[]";a=b+"("+a+"*)";break;case "MIN":a=Blockly.AutoHotkey.valueToCode(a,"LIST",Blockly.AutoHotkey.ORDER_COMMA)||"[]";a="Min("+a+"*)";break;case "MAX":a=Blockly.AutoHotkey.valueToCode(a,"LIST",Blockly.AutoHotkey.ORDER_COMMA)||"[]";a="Max("+a+"*)";break;case "AVERAGE":a=Blockly.AutoHotkey.valueToCode(a,"LIST",Blockly.AutoHotkey.ORDER_NONE)||"[]";a=b+"("+a+"*)";break;case "MEDIAN":b=Blockly.AutoHotkey.getSort();
b=Blockly.AutoHotkey.provideFunction_("Median",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(values*)","{","\ta := []","\tfor k, v in values","\t\tif v is Number","\t\t\ta.Push(v)","\tif (!a.Length())",'\t\treturn ""',"\t"+b+"(a, 1, a.Length())","\tif (Mod(a.Length(), 2))","\t\treturn a[(a.Length() + 1) // 2]","\treturn a[a.Length() // 2] / 2 + a[a.Length() // 2 + 1] / 2","}"]);a=Blockly.AutoHotkey.valueToCode(a,"LIST",Blockly.AutoHotkey.ORDER_NONE)||"[]";a=b+"("+a+"*)";break;case "MODE":b=Blockly.AutoHotkey.provideFunction_("Modes",
[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(values*)","{","\tcounts := [], maxCount := 0, modes := []","\tfor i, value in values","\t{","\t\tfor j, count in counts","\t\t{","\t\t\tif (count[1] == value)","\t\t\t{","\t\t\t\tmaxCount := Max(++count[2], maxCount)","\t\t\t\tcontinue, 2","\t\t\t}","\t\t}","\t\tcounts.Push([value, 1])","\t\tmaxCount := Max(1, maxCount)","\t}","\tfor j, count in counts","\t\tif (count[2] == maxCount)","\t\t\tmodes.push(count[1])","\treturn modes","}"]);a=Blockly.AutoHotkey.valueToCode(a,
"LIST",Blockly.AutoHotkey.ORDER_NONE)||"[]";a=b+"("+a+"*)";break;case "STD_DEV":b=Blockly.AutoHotkey.provideFunction_("mathStandardDeviation",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(numbers*)","{","\tif (!numbers.Length())","\t\treturn","\tmean := "+b+"(numbers*)","\tvariance_sum := 0","\tfor number in numbers","\t\tvariance_sum += (number - mean) ** 2","\treturn Sqrt(variance_sum / numbers.Length())","}"]);a=Blockly.AutoHotkey.valueToCode(a,"LIST",Blockly.AutoHotkey.ORDER_NONE)||"[]";a=
b+"("+a+"*)";break;case "RANDOM":b=Blockly.AutoHotkey.provideFunction_("RandomItem",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(array, remove:=False)","{","\tRandom, i, array.MinIndex(), array.MaxIndex()","\treturn remove ? array.RemoveAt(i) : array[i]","}"]);a=Blockly.AutoHotkey.valueToCode(a,"LIST",Blockly.AutoHotkey.ORDER_NONE)||"[]";a=b+"("+a+")";break;default:throw Error("Unknown operator: "+c);}return[a,Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.math_modulo=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"DIVIDEND",Blockly.AutoHotkey.ORDER_COMMA)||"0";a=Blockly.AutoHotkey.valueToCode(a,"DIVISOR",Blockly.AutoHotkey.ORDER_COMMA)||"0";return["Mod("+c+", "+a+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.math_constrain=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"VALUE",Blockly.AutoHotkey.ORDER_COMMA)||"0",b=Blockly.AutoHotkey.valueToCode(a,"LOW",Blockly.AutoHotkey.ORDER_COMMA)||"0";a=Blockly.AutoHotkey.valueToCode(a,"HIGH",Blockly.AutoHotkey.ORDER_COMMA)||"2**63-1";return["Min(Max("+c+", "+b+"), "+a+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.math_random_int=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"FROM",Blockly.AutoHotkey.ORDER_COMMA)||"0";a=Blockly.AutoHotkey.valueToCode(a,"TO",Blockly.AutoHotkey.ORDER_COMMA)||"0";return[Blockly.AutoHotkey.provideFunction_("RandomInt",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(min, max) {","\tRandom, rand, Ceil(min), Floor(max)","\treturn rand","}"])+"("+c+", "+a+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.math_random_float=function(a){return[Blockly.AutoHotkey.provideFunction_("RandomFraction",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(min, max) {","\tRandom, rand, min, max","\treturn rand","}"])+"(0.0, 1.0)",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.math_atan2=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"X",Blockly.AutoHotkey.ORDER_COMMA)||"0";a=Blockly.AutoHotkey.valueToCode(a,"Y",Blockly.AutoHotkey.ORDER_COMMA)||"0";return[Blockly.AutoHotkey.provideFunction_("ATan2",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(y, x) {",'\treturn DllCall("msvcrt\\atan2", "Double", y, "Double", x, "Cdecl Double") / '+Math.PI+" * 180","}"])+"("+a+", "+c+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};Blockly.AutoHotkey.procedures={};
Blockly.AutoHotkey.procedures_defreturn=function(a){var c=Blockly.AutoHotkey.variableDB_.getName(a.getFieldValue("NAME")||a.getName(),Blockly.PROCEDURE_CATEGORY_NAME),b="";Blockly.AutoHotkey.STATEMENT_PREFIX&&(b+=Blockly.AutoHotkey.injectId(Blockly.AutoHotkey.STATEMENT_PREFIX,a));Blockly.AutoHotkey.STATEMENT_SUFFIX&&(b+=Blockly.AutoHotkey.injectId(Blockly.AutoHotkey.STATEMENT_SUFFIX,a));b&&(b=Blockly.AutoHotkey.prefixLines(b,Blockly.AutoHotkey.INDENT));var d="";Blockly.AutoHotkey.INFINITE_LOOP_TRAP&&(d=
Blockly.AutoHotkey.prefixLines(Blockly.AutoHotkey.injectId(Blockly.AutoHotkey.INFINITE_LOOP_TRAP,a),Blockly.AutoHotkey.INDENT));var e=Blockly.AutoHotkey.statementToCode(a,"STACK"),f=Blockly.AutoHotkey.valueToCode(a,"RETURN",Blockly.AutoHotkey.ORDER_NONE)||"",g="";e&&f&&(g=b);f&&(f=Blockly.AutoHotkey.INDENT+"return "+f+"\n");for(var k=[],h=0;h<a.arguments_.length;h++)k[h]=Blockly.AutoHotkey.variableDB_.getName(a.arguments_[h].name||a.arguments_[h],Blockly.VARIABLE_CATEGORY_NAME);b=c+"("+k.join(", ")+
")\n{\n\tglobal\n"+b+d+e+g+f+"}";b=Blockly.AutoHotkey.scrub_(a,b);Blockly.AutoHotkey.definitions_["%"+c]=b;return null};Blockly.AutoHotkey.procedures_defnoreturn=Blockly.AutoHotkey.procedures_defreturn;Blockly.AutoHotkey.function_definition=Blockly.AutoHotkey.procedures_defreturn;Blockly.AutoHotkey.function_return=function(a){return"return "+(Blockly.AutoHotkey.valueToCode(a,"RETURN_VALUE",Blockly.AutoHotkey.ORDER_NONE)||"")+"\n"};
Blockly.AutoHotkey.argument_reporter_custom=function(a){return[Blockly.AutoHotkey.variableDB_.getName(a.getFieldValue("VALUE"),Blockly.VARIABLE_CATEGORY_NAME),Blockly.AutoHotkey.ORDER_ATOMIC]};Blockly.AutoHotkey.argument_reporter_boolean=Blockly.AutoHotkey.argument_reporter_custom;Blockly.AutoHotkey.argument_reporter_number=Blockly.AutoHotkey.argument_reporter_custom;Blockly.AutoHotkey.argument_reporter_string=Blockly.AutoHotkey.argument_reporter_custom;
Blockly.AutoHotkey.procedures_callreturn=function(a){for(var c=Blockly.AutoHotkey.variableDB_.getName(a.getFieldValue("NAME"),Blockly.PROCEDURE_CATEGORY_NAME),b=[],d=0;d<a.arguments_.length;d++)b[d]=Blockly.AutoHotkey.valueToCode(a,"ARG"+d,Blockly.AutoHotkey.ORDER_COMMA)||"null";return[c+"("+b.join(", ")+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};Blockly.AutoHotkey.procedures_callnoreturn=function(a){return Blockly.AutoHotkey.procedures_callreturn(a)[0]+"\n"};
Blockly.AutoHotkey.function_call=function(a){for(var c=Blockly.AutoHotkey.variableDB_.getName(a.getName(),Blockly.PROCEDURE_CATEGORY_NAME),b=[],d=0;d<a.arguments_.length;d++)b[d]=Blockly.AutoHotkey.valueToCode(a,a.arguments_[d].id,Blockly.AutoHotkey.ORDER_COMMA)||"";return c+"("+b.join(", ")+")\n"};
Blockly.AutoHotkey.function_call_output=function(a){for(var c=Blockly.AutoHotkey.variableDB_.getName(a.getName(),Blockly.PROCEDURE_CATEGORY_NAME),b=[],d=0;d<a.arguments_.length;d++)b[d]=Blockly.AutoHotkey.valueToCode(a,a.arguments_[d].id,Blockly.AutoHotkey.ORDER_COMMA)||"";return[c+"("+b.join(", ")+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.procedures_ifreturn=function(a){var c="if ("+(Blockly.AutoHotkey.valueToCode(a,"CONDITION",Blockly.AutoHotkey.ORDER_NONE)||"False")+")\n{\n";Blockly.AutoHotkey.STATEMENT_SUFFIX&&(c+=Blockly.AutoHotkey.prefixLines(Blockly.AutoHotkey.injectId(Blockly.AutoHotkey.STATEMENT_SUFFIX,a),Blockly.AutoHotkey.INDENT));a.hasReturnValue_?(a=Blockly.AutoHotkey.valueToCode(a,"VALUE",Blockly.AutoHotkey.ORDER_NONE)||"null",c+=Blockly.AutoHotkey.INDENT+"return "+a+"\n"):c+=Blockly.AutoHotkey.INDENT+
"return\n";return c+"}\n"};Blockly.AutoHotkey.texts={};Blockly.AutoHotkey.text=function(a){return[Blockly.AutoHotkey.quote_(a.getFieldValue("TEXT")),Blockly.AutoHotkey.ORDER_ATOMIC]};Blockly.AutoHotkey.text.forceString_=function(a){Blockly.AutoHotkey.text.forceString_.strRegExp.test(a);return a};Blockly.AutoHotkey.text.forceString_.strRegExp=/^\s*"([^"]|"")*"\s*$/;
Blockly.AutoHotkey.text_join=function(a){switch(a.itemCount_){case 0:return['""',Blockly.AutoHotkey.ORDER_ATOMIC];case 1:return a=Blockly.AutoHotkey.valueToCode(a,"ADD0",Blockly.AutoHotkey.ORDER_NONE)||'""',a=Blockly.AutoHotkey.text.forceString_(a),[a,Blockly.AutoHotkey.ORDER_FUNCTION_CALL];case 2:var c=Blockly.AutoHotkey.valueToCode(a,"ADD0",Blockly.AutoHotkey.ORDER_NONE)||'""';a=Blockly.AutoHotkey.valueToCode(a,"ADD1",Blockly.AutoHotkey.ORDER_NONE)||'""';a=Blockly.AutoHotkey.text.forceString_(c)+
" . "+Blockly.AutoHotkey.text.forceString_(a);return[a,Blockly.AutoHotkey.ORDER_ADDITION];default:Blockly.AutoHotkey.provideFunction_("Join",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+'(array, delimiter:="")',"{","\tfor k, v in array","\t\tresult .= delimiter . v","\treturn SubStr(result, 1 + StrLen(delimiter))","}"]);c=Array(a.itemCount_);for(var b=0;b<a.itemCount_;b++)c[b]=Blockly.AutoHotkey.valueToCode(a,"ADD"+b,Blockly.AutoHotkey.ORDER_CONCATENATION)||'""';a=c.join(" . ");return[a,Blockly.AutoHotkey.ORDER_CONCATENATION]}};
Blockly.AutoHotkey.text_append=function(a){var c=Blockly.AutoHotkey.variableDB_.getName(a.getField("VAR").getText(),Blockly.Variables.NAME_TYPE);a=Blockly.AutoHotkey.valueToCode(a,"TEXT",Blockly.AutoHotkey.ORDER_NONE)||'""';return c+" .= "+Blockly.AutoHotkey.text.forceString_(a)+"\n"};Blockly.AutoHotkey.text_length=function(a){return["StrLen("+(Blockly.AutoHotkey.valueToCode(a,"VALUE",Blockly.AutoHotkey.ORDER_FUNCTION_CALL)||'""')+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.text_isEmpty=function(a){return["!StrLen("+(Blockly.AutoHotkey.valueToCode(a,"VALUE",Blockly.AutoHotkey.ORDER_NONE)||'""')+")",Blockly.AutoHotkey.ORDER_LOGICAL_NOT]};Blockly.AutoHotkey.text_indexOf=function(a){var c="LAST"==a.getFieldValue("END"),b=Blockly.AutoHotkey.valueToCode(a,"FIND",Blockly.AutoHotkey.ORDER_NONE)||'""';return["InStr("+(Blockly.AutoHotkey.valueToCode(a,"VALUE",Blockly.AutoHotkey.ORDER_MEMBER)||'""')+", "+b+(c?",, 0)":")"),Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.text_charAt=function(a){var c=a.getFieldValue("WHERE")||"FROM_START",b=Blockly.AutoHotkey.valueToCode(a,"VALUE","RANDOM"==c?Blockly.AutoHotkey.ORDER_NONE:Blockly.AutoHotkey.ORDER_MEMBER)||'""';switch(c){case "FIRST":return["SubStr("+b+", 1, 1)",Blockly.AutoHotkey.ORDER_FUNCTION_CALL];case "LAST":return["SubStr("+b+", 0, 1)",Blockly.AutoHotkey.ORDER_FUNCTION_CALL];case "FROM_START":return a=Blockly.AutoHotkey.getAdjusted(a,"AT"),["SubStr("+b+", "+a+", 1)",Blockly.AutoHotkey.ORDER_FUNCTION_CALL];
case "FROM_END":return a=Blockly.AutoHotkey.getAdjusted(a,"AT",-1,!0),["SubStr("+b+", "+a+", 1)",Blockly.AutoHotkey.ORDER_FUNCTION_CALL];case "RANDOM":return[Blockly.AutoHotkey.provideFunction_("RandomLetter",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(text)","{","\tRandom, rand, 1, StrLen(text)","\treturn SubStr(text, rand, 1)","}"])+"("+b+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).");};
Blockly.AutoHotkey.text.getIndex_=function(a,c,b){return"FIRST"==c?"1":"FROM_END"==c?"StrLen("+a+") - "+b:"LAST"==c?"StrLen("+a+")":b};
Blockly.AutoHotkey.text_getSubstring=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"STRING",Blockly.AutoHotkey.ORDER_FUNCTION_CALL)||'""',b=a.getFieldValue("WHERE1"),d=a.getFieldValue("WHERE2");if("FIRST"!=b||"LAST"!=d){switch(b){case "FROM_START":b=Blockly.AutoHotkey.getAdjusted(a,"AT1");break;case "FROM_END":b=Blockly.AutoHotkey.getAdjusted(a,"AT1",-1,!0);break;case "FIRST":b="1";break;default:throw Error("Unhandled option (text_getSubstring).");}switch(d){case "FROM_START":a=Blockly.AutoHotkey.getAdjusted(a,
"AT2",1);a+=" - "+b;break;case "FROM_END":a=Blockly.AutoHotkey.getAdjusted(a,"AT2",-1,!0);break;case "LAST":a="";break;default:throw Error("Unhandled option (text_getSubstring).");}c="SubStr("+c+", "+b+(a?", "+a:"")+")"}return[c,Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.text_changeCase=function(a){var c={UPPERCASE:'Format("{:U}", ',LOWERCASE:'Format("{:L}", ',TITLECASE:'Format("{:T}", '}[a.getFieldValue("CASE")];a=Blockly.AutoHotkey.valueToCode(a,"TEXT",c?Blockly.AutoHotkey.ORDER_MEMBER:Blockly.AutoHotkey.ORDER_NONE)||'""';return[c+a+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.text_trim=function(a){var c={LEFT:"LTrim(",RIGHT:"RTrim(",BOTH:"Trim("}[a.getFieldValue("MODE")];a=Blockly.AutoHotkey.valueToCode(a,"TEXT",Blockly.AutoHotkey.ORDER_MEMBER)||'""';return[c+a+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.text_print=function(a){a=Blockly.AutoHotkey.valueToCode(a,"TEXT",Blockly.AutoHotkey.ORDER_NONE)||'""';return Blockly.AutoHotkey.provideFunction_("Print",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(value)","{",'\tMsgBox, % IsObject(value) ? "<object>" : value',"}"])+"("+a+")\n"};
Blockly.AutoHotkey.text_prompt_ext=function(a){a=a.getField("TEXT")?Blockly.AutoHotkey.quote_(a.getFieldValue("TEXT")):Blockly.AutoHotkey.valueToCode(a,"TEXT",Blockly.AutoHotkey.ORDER_NONE)||'""';return[Blockly.AutoHotkey.provideFunction_("InputBox",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(message)","{","\tInputBox, result,, % message","\treturn result","}"])+"("+a+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};Blockly.AutoHotkey.text_prompt=Blockly.AutoHotkey.text_prompt_ext;
Blockly.AutoHotkey.text_count=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"TEXT",Blockly.AutoHotkey.ORDER_MEMBER)||'""';a=Blockly.AutoHotkey.valueToCode(a,"SUB",Blockly.AutoHotkey.ORDER_NONE)||'""';return[Blockly.AutoHotkey.provideFunction_("StrCount",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle)","{","\tStrReplace(haystack, needle,, count)","\treturn count","}"])+"("+c+", "+a+")",Blockly.AutoHotkey.ORDER_SUBTRACTION]};
Blockly.AutoHotkey.text_replace=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"TEXT",Blockly.AutoHotkey.ORDER_MEMBER)||'""',b=Blockly.AutoHotkey.valueToCode(a,"FROM",Blockly.AutoHotkey.ORDER_NONE)||'""';a=Blockly.AutoHotkey.valueToCode(a,"TO",Blockly.AutoHotkey.ORDER_NONE)||'""';return["StrReplace("+c+", "+b+", "+a+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};
Blockly.AutoHotkey.text_reverse=function(a){a=Blockly.AutoHotkey.valueToCode(a,"TEXT",Blockly.AutoHotkey.ORDER_MEMBER)||"''";return[Blockly.AutoHotkey.provideFunction_("StrRev",[Blockly.AutoHotkey.FUNCTION_NAME_PLACEHOLDER_+"(str)","{",'\tDllCall("msvcrt\\_" (A_IsUnicode ? "wcs" : "str") "rev"','\t\t, "UInt", &str, "CDecl")',"\treturn str","}"])+"("+a+")",Blockly.AutoHotkey.ORDER_FUNCTION_CALL]};/*

 Visual Blocks Language

 Copyright 2012 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.AutoHotkey.variables={};Blockly.AutoHotkey.variables_get=function(a){return[Blockly.AutoHotkey.variableDB_.getName(a.getField("VAR").getText(),Blockly.Variables.NAME_TYPE),Blockly.AutoHotkey.ORDER_ATOMIC]};Blockly.AutoHotkey.variables_get_reporter=Blockly.AutoHotkey.variables_get;
Blockly.AutoHotkey.variables_set=function(a){var c=Blockly.AutoHotkey.valueToCode(a,"VALUE",Blockly.AutoHotkey.ORDER_ASSIGNMENT)||'""';return Blockly.AutoHotkey.variableDB_.getName(a.getField("VAR").getText(),Blockly.Variables.NAME_TYPE)+" := "+c+"\n"};/*

 Copyright 2018 Google LLC
 Modified 2020 Philip Taylor

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.AutoHotkey.variablesDynamic={};Blockly.AutoHotkey.variables_get_dynamic=Blockly.AutoHotkey.variables_get;Blockly.AutoHotkey.variables_set_dynamic=Blockly.AutoHotkey.variables_set;
